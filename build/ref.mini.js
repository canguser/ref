!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var s in i)("object"==typeof exports?exports:t)[s]=i[s]}}("undefined"!=typeof self?self:this,(function(){return(()=>{"use strict";var t={532:(t,e,i)=>{i.r(e),i.d(e,{InitialValue:()=>a,Link:()=>n,Ref:()=>o,createRef:()=>p,initial:()=>f,link:()=>u,ref:()=>c,refs:()=>l});class s{static parseKeyChain(t){return"string"==typeof t&&(t=t.split(".")),t.filter((t=>"string"==typeof t)).map((t=>t.replace(/ /g,"")))}static getProperty(t,e){if(null!=t)return 1===(e=this.parseKeyChain(e)).length?t[e[0]]:e.length>1?this.getProperty(t[e[0]],e.splice(1)):void 0}static getProxyChain(t,{set:e,get:i}={},s=!0,n=[]){return null!=t||s||(t={}),this.isBasicDataType(t)?t:new Proxy(t,{get:(r,o,a)=>"string"==typeof o&&o.startsWith("$")?t[o.replace("$","")]:(i&&i instanceof Function&&i.call(r,{origin:[r,o,a],info:{parentNames:n}}),this.getProxyChain(r[o],{set:e,get:i},s,[...n,o])),set:(t,i,s,r)=>(e&&e instanceof Function&&e.call(t,{origin:[t,i,s,r],info:{parentNames:n}}),!0)})}static isBasicDataType(t){return["string","number","boolean","function"].includes(typeof t)||t instanceof Date||null==t}static setProperty(t,e,i){if(0===(e=this.parseKeyChain(e)).length)return!0;if(null==t)return!1;if(1===e.length)return t[e[0]]=i,!0;if(e.length>1){let s=e.splice(0,1);if(!this.setProperty(t[s[0]],e,i))return t[s[0]]={},this.setProperty(t[s[0]],e,i)}return!0}static isConfigurableObject(t){return!("object"!=typeof t||t instanceof Array||t instanceof Date||"[object Object]"!==Object.prototype.toString.call(t))}static getKeysOfConfiguration(t){return this.isConfigurableObject(t)?Object.keys(t):t instanceof Array?t:[]}static test(t,e){try{e({assert(t,e="",...i){if(!t)throw i.length>0&&console.log("Assertion data:",i),new Error("Assertion failed: "+e)},equals(t,e,...i){if(t!==e)throw i.length>0&&console.log("Assertion data:",i),new Error(`Assertion failed - except: ${t}, actually: ${e}`)}}),console.log(`Testing: ${t} passed!`)}catch(e){console.error(e.message),console.error(`Testing: ${t} failed...`)}}static waitTodo(t,e){return new Promise((i=>{setTimeout((()=>{i(e)}),t)}))}static delay(t,e,i){const s="_delay_"+e;return clearTimeout(t[s]),new Promise((e=>{t[s]=setTimeout((()=>{e(!0)}),i)}))}}class n{constructor(...t){if(this.extraVars=[],"object"==typeof t[0]){const[e,i,s]=t;e instanceof Array&&(this.setVars(e),this.setAction(i),this.setInitialValue(s))}else if("function"==typeof t[0]){const[e,i]=t;this.setAction(e),this.setInitialValue(i)}}setInitialValue(t){void 0===this.initialValue&&(this.initialValue=t)}get vars(){return[this.mainlyVar,...this.extraVars]}setAction(t=(()=>{})){this.action||"function"!=typeof t||(this.action=t)}applyVar(t){this.mainlyVar=t}setVars(t=[]){this.extraVars=t}}const r={isAsync:!0};class o{constructor(t={},e){let i=t;if(t instanceof Array){i={};for(const e of t)"string"==typeof e&&(i[e]=void 0)}s.isConfigurableObject(i)||(i={}),this.vars=i||{},this.varsMapping={},this.options={...r,...e},this.proxy=s.getProxyChain(this.vars,{get:({origin:[,t],info:{parentNames:e}})=>{const i=e.concat(t);this.declareVar(i[0])},set:({origin:[,t,e],info:{parentNames:i}})=>{const r=i.concat(t),o=r[0],a=s.getProperty(this.vars,r);if(e instanceof n)e.applyVar(o),this._addMappedLink(o,e),e.vars&&e.vars.length>0&&e.vars.forEach((t=>{this._addMappedLink(t,e)})),void 0!==e.initialValue&&void 0===a&&s.setProperty(this.vars,r,e.initialValue);else{s.setProperty(this.vars,r,e);const t=this._getMappedLinks(o),i=()=>{t.length>0&&t.forEach((t=>{"function"==typeof t.action&&t.action(this.proxy)}))};this.isAsync?s.delay(this,"waitAssign",0).then((()=>i())):i()}}})}get isAsync(){return!!this.options.isAsync}declareVar(t,e){t in this.vars||(this.vars[t]=e)}infectAll(t){this.infect(Object.keys(this.vars),t)}infect(t,e){t.forEach((t=>{this._addMappedLink(t,new n(e))}))}_getMappedLinks(t){return this.varsMapping[t]||[]}_addMappedLink(t,e){const i=this._getMappedLinks(t);i.includes(e)||(i.push(e),this.varsMapping[t]=i,t in this.vars||(this.vars[t]=void 0))}static setDefaultOption(t){Object.assign(r,t)}}class a extends n{constructor(t){super(),this.initialValue=t}}const c=function(t,e,i){let n=s.getKeysOfConfiguration(e);const r=new o(e),{proxy:a}=r;for(const e of n)a[e]=u((e=>{i(e,t)}));return a},l=function(t=[],e,i){let n=s.getKeysOfConfiguration(e);const r=new o(e),{proxy:a}=r;for(const e of n)a[e]=u((e=>{t.forEach((t=>{i(e,t)}))}));return a},f=function(t){return new a(t)},p=function(t={},e){return new o(t,e).proxy},u=function(...t){return new n(...t)}}},e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}return i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(532)})()}));
//# sourceMappingURL=ref.mini.js.map